# Punctual Visual Workshop 1-2 - Moving Things Around (~1h)

Ref: 
 - https://estuary.mcmaster.ca
 - https://github.com/dktr0/Punctual/blob/main/REFERENCE.md

## Setup Cells!

`!presetview twocolumns`

Choose Punctual from the language dropdown in the left column, and MiniTidal for the right column

## Controlling Brightness

Once we start moving things around, visuals can start getting very bright and flashy which, depending on your audience can be quite dangerous.

In Punctual, the numbers that are generated/passed to the output, light the pixels to full brightness by default ie:

> Should the pixel be On (full brightness) or Off (black)?

We can control the brightness of that final value by dividing the entire function by an amount eg 2, to make it half as bright

```
# full brightness
circle [0] 0.25 >> video;

# half brightness
circle [0] 0.25 / 2 >> video;

# also half brightness
circle [0] 0.25 * 0.5 >> video;
```

This can also be controlled by a `db` value which may be more intuitive:

```
# reduce brightness by 10db
circle [0] 0.25 * (-10)db >> video;
```

## Oscillators

We can replace any number with an Oscillator to move things around

```
hline (tri 1) 0.002 >> video;
```

Other oscillators include: `sin`, `saw`, `sqr`

***It's important to keep the oscillator frequency value low so it remains visible*** 

## Punctual Functions related to Time and Tempo

We can replace any numbers with a Time/Tempo function that gives us changing values relative to the music, or time passing

`ebeat` is the number of beats that have passed since the code was last evaluated

```
hline 0 (1/ebeat) >> video;
```

Other Time and Tempo related functions include:

```
cps -- equivalent to the current tempo in cycles per second
time -- how much time in seconds has passed since "beat 0" of the tempo
beat -- how many beats have passed since beat 0 of the tempo
etime -- how much time in seconds has passed since code was last evaluated
```

## Audio Frequency Graphs

Punctual has graphs which provide current audio frequency values (ie what sounds estuary is currently producing) and splits them into 3 "bins" - `hi`, `mid`, and `lo`

Low frequency sounds create values on the `lo` graph, mid frequency sounds on the mid graph, and high frequency sounds on the `hi` graph

Setup a simple sound in the right hand estuary cell:

```
sound "bd"
```

`bd` is a predominantly low frequency sound (less than 1000Hz), in the left hand cell configure a `rect` who's size is controlled by `lo`

```
rect 0 lo *(-20)db >> blue;
```

In the punctual cell, try replacing `lo` with the `mid` and `hi` frequency graphs, how do you expect them to react to the `bd` sound?

Pick some different frequency sounds and see how the different bins react -


# Exercises:

1. Create a moving circle using the `sin` oscillator



2. Create a moving circle using the `tri` oscillator



3. Describe the difference you see between `sin` and `tri` (hint, keep the oscillator value 1 or below)



4. Use the `sqr` oscillator to control the circles visibility



5. Create a simple beat in one column with MiniTidal (`sound "bd"`)
Then use Punctual to make a circle appear/disappear in time with the beat 


For Bonus Points

6. Create 3 `rect` objects using the below code, then modify it so each `rect` changes size based on a different audio frequency bin

```
rect [-0.5,0,0,0,0.5,0] [0.25,0.1,0.25,0.1,0.25,0.1] >> video;
```



7. Create a vertically moving circle: `circle [0, sin 0.5] 0.25 >> video;`
Then find a graph function to change it so instead of moving top to bottom, it "bounces" up from the middle of the screen




---
